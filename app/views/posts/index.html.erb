<h1>Welcome to My Blog App</h1>
<h2>These are all my Posts!</h2>
<%= button_to 'Logout', destroy_user_session_path, method: :delete, form: {turbolink: false} %>
<!-- User Avatar Rendering -->
<% @posts.each do |post| %>
  <div class="post">
    <div class="default-avatar">
      <% if @post && @post.user && @post.user.avatar.present? %>
        <%= image_tag @post.user.avatar, class: "avatar" %>
      <% else %>  
        <div class="default-avatar">
          <img src="https://www.pngkey.com/png/full/115-1150152_default-profile-picture-avatar-png-green.png" alt="default-avatar" class="default-avatar">
        </div>
    </div>
  </div>
      <% end %>
    <% if post.image.present? %>
      <img src="<%= post.image.url %>" alt="<%= post.title %>" class="post-image">
    <% end %>

    <div class="post-content">
      <h2><%= post.title %></h2>
      <p><%= post.content %></p>

      <% if post.video.present? %>
        <video controls class="post-video">
          <source src="/videos/<%= post.video %>" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      <% end %>
    </div>
 
    <div class="new-post-link">
      <%= link_to 'Create a New Post', new_post_path %> |
      <%= link_to 'VIEW POST', post_path(post) %>
      <p>Posted on: <%= post.created_at.strftime("%B %e, %Y at %l:%M %p") %></p>
      <%= form_for(post, :html => { :method => :delete, :remote => true, data: { confirm: "Are you sure?"} }) do |f| %>
      <%= f.submit :value => "Delete" %>
      <% end %>
    </div>
  <% end %>

  <style>
  /* Apply background image to the body */
  body {
    background-image: url('https://wallpaperaccess.com/full/1353673.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
  /* Center-align headings */
  h1, h2 {
    text-align: center;
    margin: 0; /* Remove default margin for cleaner appearance */
    padding: 20px 0; /* Add some vertical spacing */
  }

  /* Style for user name */
  .user-name {
    text-align: center;
    margin-top: 10px;
    font-weight: bold;
  }

  /* Your existing styles */
  .post {
    display: flex;
    align-items: flex-start;
    margin-bottom: 5px;
  }

  .post-content {
    flex: 1;
    margin-left: 5px;
    font-size: 25px;
  }

  .post-image {
    max-width: 28%;
    height: auto;
    margin-top: 5px;
  }

  .post-video {
    width: 28%;
    height: auto;
    margin-top: 10px;
  }

  .avatar {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    margin-right: 10px;
  }

  .default-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: black;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 10px;
  }
</style>